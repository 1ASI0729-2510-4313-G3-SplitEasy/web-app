import{a as N}from"./chunk-W5VXLQ2X.js";import{a as k,b as D}from"./chunk-GVE2GOE7.js";import"./chunk-VYPXM46B.js";import"./chunk-BSM3DYXS.js";import{a as w,b as g,c as _,d as C,g as y,i as I,j as S,o as P,q as E}from"./chunk-2K3ZRB22.js";import{e as F}from"./chunk-RE2VEYSQ.js";import{g as h}from"./chunk-H4ACMJDA.js";import"./chunk-FKPM6TIP.js";import{$a as a,Da as f,Ia as b,Oa as s,Qa as i,Ra as o,Sa as l,Ua as v,Va as c,ab as u,hb as d,ib as x,ua as r,za as p}from"./chunk-GUCOMCN7.js";import"./chunk-2NFLSA4Y.js";var L=()=>["/login"],T=()=>["/reset-password"],G=t=>({user:t});function B(t,n){if(t&1&&(i(0,"div",13),a(1),o()),t&2){let e=c();r(),u(e.errorMessage)}}function q(t,n){if(t&1&&(i(0,"div",14),a(1),o()),t&2){let e=c();r(),u(e.message)}}function A(t,n){t&1&&(i(0,"button",15),a(1," Send Reset Link "),o())}function V(t,n){if(t&1&&(i(0,"button",16),a(1," change password "),o()),t&2){let e=c();s("routerLink",d(2,T))("queryParams",x(3,G,e.userID))}}var M=class t{constructor(n,e){this.fb=n;this._authService=e;this.forgotPasswordForm=this.fb.group({email:["",[g.required,g.email]]})}forgotPasswordForm;errorMessage;message;userID;validationEmail(){let n=this.forgotPasswordForm.value;this.forgotPasswordForm.valid&&this._authService.existUser(n.email).subscribe({next:e=>{e.length>0?(this.message="send change password to email",this.errorMessage="",this.userID=e[0].id):(this.message="",this.userID="",this.errorMessage="email not register")},error:e=>{this.message="",this.userID="",this.errorMessage="error in database",console.log(e)}})}static \u0275fac=function(e){return new(e||t)(p(P),p(N))};static \u0275cmp=f({type:t,selectors:[["app-forgot-password"]],decls:18,vars:7,consts:[[1,"login-section","d-flex","align-items-center","justify-content-center"],[1,"login-box","shadow","p-4","rounded"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","formControlName","email",1,"form-control"],["class","text-danger",4,"ngIf"],["class","text-success",4,"ngIf"],["type","submit","class","btn w-100 signin-button",4,"ngIf"],["style","background-color: green","class","mt-3 btn w-100 signin-button",3,"routerLink","queryParams",4,"ngIf"],[1,"text-center","mt-3"],[1,"text-decoration-none","text-secondary",3,"routerLink"],[1,"text-danger"],[1,"text-success"],["type","submit",1,"btn","w-100","signin-button"],[1,"mt-3","btn","w-100","signin-button",2,"background-color","green",3,"routerLink","queryParams"]],template:function(e,m){e&1&&(l(0,"app-nav-bar"),i(1,"section",0)(2,"div",1)(3,"h2",2),a(4,"Forgot Password"),o(),i(5,"form",3),v("ngSubmit",function(){return m.validationEmail()}),i(6,"div",4)(7,"label",5),a(8,"Email"),o(),l(9,"input",6),o(),b(10,B,2,1,"div",7)(11,q,2,1,"div",8)(12,A,2,0,"button",9)(13,V,2,5,"button",10),o(),i(14,"div",11)(15,"a",12),a(16," Back to login"),o()()()(),l(17,"app-the-footer")),e&2&&(r(5),s("formGroup",m.forgotPasswordForm),r(5),s("ngIf",m.errorMessage),r(),s("ngIf",m.message),r(),s("ngIf",!m.message),r(),s("ngIf",m.message),r(2),s("routerLink",d(6,L)))},dependencies:[F,E,y,w,_,C,I,S,k,D,h],encapsulation:2})};export{M as ForgotPasswordComponent};
