import{a as j}from"./chunk-IB4BDQBE.js";import{a as D}from"./chunk-D23DP74C.js";import{a as F}from"./chunk-BB3PY2CE.js";import{c as A,f as N,k as R,l as T,m as U,p as V}from"./chunk-2K3ZRB22.js";import{c as I,d as H,e as B,f as w}from"./chunk-RE2VEYSQ.js";import{f as O,g as P}from"./chunk-H4ACMJDA.js";import{$a as o,Da as b,Ia as g,Oa as c,Qa as t,Ra as i,Sa as d,Ta as x,Ua as _,Va as m,Wa as C,Xa as M,Y as f,Z as v,bb as h,cb as k,db as y,eb as E,fb as L,ra as S,ua as s,za as p}from"./chunk-GUCOMCN7.js";function z(r,l){if(r&1&&d(0,"img",14),r&2){let e=m();M("src","/images/",e.user.picture,"",S)}}function J(r,l){r&1&&(t(0,"ul",15)(1,"li")(2,"a",16),o(3,"Home"),i()(),t(4,"li")(5,"a",17),o(6,"Contributions"),i()(),t(7,"li")(8,"a",18),o(9,"Status"),i()(),t(10,"li")(11,"a",19),o(12,"Settings"),i()()())}function q(r,l){if(r&1&&(t(0,"option",28),o(1),i()),r&2){let e=l.$implicit;C("value",e.id),s(),h(" ",e.name," ")}}function G(r,l){if(r&1){let e=x();t(0,"ul",15)(1,"li")(2,"div",20)(3,"label",21),o(4,"Select a house"),i(),t(5,"select",22),L("ngModelChange",function(a){f(e);let u=m();return E(u.selectHouse,a)||(u.selectHouse=a),v(a)}),_("change",function(a){f(e);let u=m();return v(u.changeSelectHouse(a))}),t(6,"option"),o(7,"--select house--"),i(),g(8,q,2,2,"option",23),i()()(),t(9,"li")(10,"a",24),o(11,"Members"),i()(),t(12,"li")(13,"a",25),o(14,"Bills"),i()(),t(15,"li")(16,"a",26),o(17,"Contributions"),i()(),t(18,"li")(19,"a",27),o(20,"Settings"),i()()()}if(r&2){let e=m();s(5),y("ngModel",e.selectHouse),s(3),c("ngForOf",e.houseList)}}var W=class r{constructor(l,e,n){this.router=l;this._userService=e;this._houseService=n;this.loadData()}user;roles=F;selectHouse;houseList;loadData(){let l=localStorage.getItem("currentUser");if(this.selectHouse=localStorage.getItem("currentHouse")||"",l){let e=JSON.parse(l);this._userService.getById(e.id).subscribe({next:n=>{this.user=n,this._houseService.getAllByRepre(this.user.id).subscribe({next:a=>{this.houseList=a},error:a=>{console.log(a)}})},error:n=>{console.log(n)}})}}logout(){localStorage.clear(),this.router.navigate(["/home"])}changeSelectHouse(l){let e=l.target.value;localStorage.setItem("currentHouse",e),location.reload()}static \u0275fac=function(e){return new(e||r)(p(H),p(j),p(D))};static \u0275cmp=b({type:r,selectors:[["app-side-bar-member"]],decls:20,vars:5,consts:[[1,"layout"],[1,"sidebar","p-3"],[1,"header-section"],[1,"logo"],["src","/images/logo.png","alt","SplitEasy Logo"],[1,"nav-section"],[1,"profile-nav-container"],[1,"profile-section"],["alt","User","class","profile-img",3,"src",4,"ngIf"],[1,"profile-name"],["class","nav-links",4,"ngIf"],[1,"logout-container"],[1,"logout-btn",3,"click"],[1,"main-content"],["alt","User",1,"profile-img",3,"src"],[1,"nav-links"],["routerLink","/member/home","routerLinkActive","active"],["routerLink","/member/contributions","routerLinkActive","active"],["routerLink","/member/status","routerLinkActive","active"],["routerLink","/member/settings","routerLinkActive","active"],[1,"mb-3"],["for","selectHouse",1,"form-label","text-light"],["name","selectHouse",1,"form-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["routerLink","/representative/members","routerLinkActive","active"],["routerLink","/representative/bills","routerLinkActive","active"],["routerLink","/representative/contributions","routerLinkActive","active"],["routerLink","/representative/settings","routerLinkActive","active"],[3,"value"]],template:function(e,n){e&1&&(t(0,"div",0)(1,"nav",1)(2,"section",2)(3,"div",3),d(4,"img",4),t(5,"h2"),o(6,"SplitEasy"),i()()(),t(7,"section",5)(8,"div",6)(9,"div",7),g(10,z,1,2,"img",8),t(11,"p",9),o(12),i()(),g(13,J,13,0,"ul",10)(14,G,21,2,"ul",10),i(),t(15,"div",11)(16,"button",12),_("click",function(){return n.logout()}),o(17,"Logout"),i()()()(),t(18,"main",13),d(19,"router-outlet"),i()()),e&2&&(s(10),c("ngIf",n.user.picture),s(2),k("",n.user.firstName," ",n.user.lastName,""),s(),c("ngIf",n.user.role==n.roles.MEMBER),s(),c("ngIf",n.user.role==n.roles.REPRESENTATIVE))},dependencies:[B,w,I,P,V,T,U,R,A,N,O],styles:[".layout[_ngcontent-%COMP%]{display:flex;height:100vh}.sidebar[_ngcontent-%COMP%]{width:250px;background-color:#042953;color:#fff;padding:20px 0}.main-content[_ngcontent-%COMP%]{flex:1;background-color:#000;color:#fff;padding:30px;overflow-y:auto}.logo[_ngcontent-%COMP%]{margin-bottom:20px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}.profile-nav-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.profile-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:20px}.profile-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}.profile-name[_ngcontent-%COMP%]{font-size:.9rem;margin:0}.nav-links[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:10px 0}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:8px;display:block;border-radius:4px;transition:background-color .3s,color .3s}.nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;background-color:#42a5f5}"]})};export{W as a};
