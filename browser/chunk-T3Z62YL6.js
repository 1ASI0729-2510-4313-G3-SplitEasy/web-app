import{a as P}from"./chunk-W5VXLQ2X.js";import{a as _,b as I}from"./chunk-IKVQ3WGD.js";import"./chunk-VYPXM46B.js";import"./chunk-BB3PY2CE.js";import"./chunk-BSM3DYXS.js";import{a as b,b as l,c as S,d as h,g as N,i as x,j as E,k as C,l as w,m as F,o as R,q as y}from"./chunk-2K3ZRB22.js";import{d as g,e as v}from"./chunk-RE2VEYSQ.js";import"./chunk-H4ACMJDA.js";import"./chunk-FKPM6TIP.js";import{$a as r,Da as c,Oa as p,Qa as t,Ra as e,Sa as n,Ua as u,hb as f,ua as s,za as a}from"./chunk-GUCOMCN7.js";import"./chunk-2NFLSA4Y.js";var A=()=>["/login"],q=class d{constructor(i,o,m){this.fb=i;this._authService=o;this.router=m;this.registerForm=this.fb.group({email:["",[l.required,l.email]],firstName:["",[l.required]],lastName:["",[l.required]],password:["",[l.required]],repeatPassword:["",[l.required]],role:["member",[l.required]]})}registerForm;registerUser(){let i=this.registerForm.value;this.registerForm.valid&&i.password===i.repeatPassword?this._authService.existUser(i.email).subscribe({next:o=>{o.length==0?this._authService.register(i).subscribe({next:m=>{alert("Login successful!"),localStorage.setItem("currentUser",JSON.stringify(m)),i.role==="representative"?this.router.navigate(["/representative/home"]):this.router.navigate(["/member/home"])},error:m=>{console.log(m)}}):alert("this is email exist!!")},error:o=>{alert("Error in database")}}):alert("password diff register password or fields incomplet")}static \u0275fac=function(o){return new(o||d)(a(R),a(P),a(g))};static \u0275cmp=c({type:d,selectors:[["app-register"]],decls:43,vars:3,consts:[[1,"login-section","d-flex","align-items-center","justify-content-center"],[1,"login-box","shadow","p-4","rounded"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3","d-flex","gap-3"],["for","firstName",1,"form-label"],["type","text","formControlName","firstName",1,"form-control"],[1,"ml-2"],["for","lastName",1,"form-label"],["type","text","formControlName","lastName",1,"form-control"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","formControlName","email","placeholder","ejemplo@correo.com",1,"form-control"],["for","password",1,"form-label"],["type","password","formControlName","password","placeholder","********",1,"form-control"],["for","repeat-password",1,"form-label"],["type","password","formControlName","repeatPassword","placeholder","********",1,"form-control"],["for","role",1,"form-label"],["formControlName","role",1,"form-control"],["value","member"],["value","representative"],["type","submit",1,"btn","w-100","signin-button"],[1,"text-center","mt-3"],[1,"text-decoration-none","text-secondary",3,"routerLink"]],template:function(o,m){o&1&&(n(0,"app-nav-bar"),t(1,"section",0)(2,"div",1)(3,"h2",2),r(4,"Register"),e(),t(5,"form",3),u("ngSubmit",function(){return m.registerUser()}),t(6,"div",4)(7,"div")(8,"label",5),r(9,"First Name"),e(),n(10,"input",6),e(),t(11,"div",7)(12,"label",8),r(13,"Last Name"),e(),n(14,"input",9),e()(),t(15,"div",10)(16,"label",11),r(17,"Email"),e(),n(18,"input",12),e(),t(19,"div",10)(20,"label",13),r(21,"Password"),e(),n(22,"input",14),e(),t(23,"div",10)(24,"label",15),r(25,"Repeat Password"),e(),n(26,"input",16),e(),t(27,"div",10)(28,"label",17),r(29,"Role"),e(),t(30,"select",18)(31,"option"),r(32,"--selection role---"),e(),t(33,"option",19),r(34,"Member"),e(),t(35,"option",20),r(36,"Representative"),e()()(),t(37,"button",21),r(38,"Register"),e(),t(39,"div",22)(40,"a",23),r(41,"I have an account"),e()()()()(),n(42,"app-the-footer")),o&2&&(s(5),p("formGroup",m.registerForm),s(35),p("routerLink",f(2,A)))},dependencies:[v,y,N,w,F,b,C,S,h,x,E,_,I],encapsulation:2})};export{q as RegisterComponent};
