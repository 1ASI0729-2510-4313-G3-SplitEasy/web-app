<div class="login-container">

  <div class="branding-column">
    <div class="branding-content">
      <a routerLink="/" class="brand-logo">
        <img src="assets/images/logo.png" alt="SplitEasy Logo">
        <span>SplitEasy</span>
      </a>
      <h1 class="welcome-title">{{ 'REGISTER.BRANDING.TITLE' | translate }}</h1>
      <p class="welcome-text">{{ 'REGISTER.BRANDING.SUBTITLE' | translate }}</p>
    </div>
  </div>

  <div class="form-column">
    <app-language-switcher class="language-switcher"></app-language-switcher>
    <div class="login-box">

      <div class="login-header">
        <a routerLink="/" class="btn-back" [title]="'LOGIN.BACK_BUTTON_TITLE' | translate">
          <i class="bi bi-x-lg"></i>
        </a>
      </div>

      <h2 class="form-title">{{ 'REGISTER.TITLE' | translate }}</h2>

      <form class="mt-4" [formGroup]="registerForm" (ngSubmit)="register()">

        <div class="form-group">
          <label for="username" class="form-label">{{ 'REGISTER.USERNAME_LABEL' | translate }}</label>
          <div class="input-group">
            <i class="bi bi-person input-icon"></i>
            <input id="username" type="text" class="form-control" formControlName="username" />
          </div>
        </div>

        <div class="form-group">
          <label for="email" class="form-label">{{ 'REGISTER.EMAIL_LABEL' | translate }}</label>
          <div class="input-group">
            <i class="bi bi-envelope-fill input-icon"></i>
            <input id="email" type="email" class="form-control" formControlName="email" />
          </div>
        </div>

        <div class="form-group">
          <label for="password" class="form-label">{{ 'REGISTER.PASSWORD_LABEL' | translate }}</label>
          <div class="input-group">
            <i class="bi bi-lock-fill input-icon"></i>
            <input id="password" type="password" class="form-control" formControlName="password" />
          </div>
        </div>

        <div class="form-group">
          <label for="repeat-password" class="form-label">{{ 'REGISTER.REPEAT_PASSWORD_LABEL' | translate }}</label>
          <div class="input-group">
            <i class="bi bi-lock-fill input-icon"></i>
            <input id="repeat-password" type="password" class="form-control" formControlName="repeatPassword" />
          </div>
          <div *ngIf="registerForm.hasError('mismatch') && registerForm.get('repeatPassword')?.touched"
               class="invalid-feedback d-block">
            Las contrase√±as no coinciden.
          </div>
        </div>

        <div class="form-group">
          <label for="income" class="form-label">{{ 'REGISTER.INCOME_LABEL' | translate }}</label>
          <div class="input-group">
            <i class="bi bi-cash input-icon"></i>
            <input id="income" type="number" min="0" class="form-control" formControlName="income" />
          </div>
        </div>

        <div class="form-group">
          <label for="role" class="form-label">{{ 'REGISTER.ROLE_LABEL' | translate }}</label>
          <div class="input-group">
            <i class="bi bi-person-badge input-icon"></i>
            <select id="role" class="form-control" formControlName="role">
              <option value="" disabled>{{ 'REGISTER.ROLE_PLACEHOLDER' | translate }}</option>
              <option value="ROLE_MIEMBRO">{{ 'REGISTER.ROLE_MEMBER' | translate }}</option>
              <option value="ROLE_REPRESENTANTE">{{ 'REGISTER.ROLE_REPRESENTATIVE' | translate }}</option>
            </select>
          </div>
        </div>

        <button type="submit" class="btn btn-login w-100 mt-3" [disabled]="isSubmitting">
          {{ 'REGISTER.BUTTON' | translate }}
        </button>

        <div class="text-center mt-4">
          <a [routerLink]="['/autenticacion/login']" class="form-subtitle">
            {{ 'REGISTER.HAVE_ACCOUNT' | translate }}
          </a>
        </div>

      </form>
    </div>
  </div>
</div>
